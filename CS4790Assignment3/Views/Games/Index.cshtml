@model PaginatedList<CS4790Assignment3.Models.Game>
@{ 
	Layout = "~/Views/Shared/_Layout.cshtml";
	ViewData["Title"] = "Index";
}

<div>
	<div class="btn"><a asp-action="Create">Add Game</a></div>
	<div class="btn" style="visibility: @ViewData["DefaultFilterVisibility"]">
		<a asp-action="Index">Default Sort</a>
	</div>
</div>

<table class="table table-hover">
	<thead>
		<tr>
			<th>
				Game ID
			</th>
			<th>
				Already Owned
			</th>
			<th>
				<a asp-action="Index" asp-route-sortOrder="@ViewData["NameSort"]" asp-route-currentFilter="@ViewData["currentFilter"]">Game Name</a>
			</th>
			<th>
				Genre
			</th>
			<th>
				Price
			</th>
			<th>
				Online Multiplayer Capable
			</th>
		</tr>
	</thead>
	<tbody>
		@foreach (var entry in Model)
		{
			<tr>
				<td>
					@Html.DisplayFor(g => entry.GameID)
				</td>
				<td>
					@Html.DisplayFor(g => entry.AlreadyOwned)
				</td>
				<td>
					<a asp-action="Details" asp-route-id="@entry.GameID" alt="Click to edit entry.">
						@Html.DisplayFor(g => entry.Name)
					</a>
				</td>
				<td>
					@Html.DisplayFor(g => entry.Genre)
				</td>
				<td>
					@Html.DisplayFor(g => entry.Price)
				</td>
				<td>
					@Html.DisplayFor(g => entry.IsOnlineMultiplayer)
				</td>
			</tr>
		}
	</tbody>
</table>

<div class="row text-center">
	<br />
	@{
		var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
		var nextDisabled = !Model.HasNextPage ? "disabled" : "";

		<a asp-action="Index"
		   asp-route-sortOrder="@ViewData["CurrentSort"]"
		   asp-route-page="@(Model.PageIndex - 1)"
		   asp-route-currentFilter="@ViewData["CurrentFilter"]"
		   class="btn @prevDisabled">
			Previous
		</a>

		<a asp-action="Index"
		   asp-route-sortOrder="@ViewData["CurrentSort"]"
		   asp-route-page="@(Model.PageIndex + 1)"
		   asp-route-currentFilter="@ViewData["CurrentFilter"]"
		   class="btn @nextDisabled">
			Next
		</a>

	}
</div>